{"version":3,"sources":["../../../../src/components/log-viewer/hover-tooltip.js"],"names":["React","PureComponent","withTheme","evaluateStyle","styled","TooltipContainer","div","props","theme","__reset__","position","pointerEvents","margin","spacingNormal","padding","maxWidth","overflow","background","color","textColorPrimary","zIndex","userStyle","KEY_BLACKLIST","Set","HoverTooltip","info","objectId","object","base","object_id","layer","streamName","concat","_renderEntries","Object","keys","filter","key","has","undefined","map","String","style","renderContent","_renderContent","left","x","top","y"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {PureComponent} from 'react';\nimport {withTheme, evaluateStyle} from '@streetscape.gl/monochrome';\n\nimport styled from '@emotion/styled';\n\nconst TooltipContainer = styled.div(props => ({\n  ...props.theme.__reset__,\n  position: 'absolute',\n  pointerEvents: 'none',\n  margin: props.theme.spacingNormal,\n  padding: props.theme.spacingNormal,\n  maxWidth: 320,\n  overflow: 'hidden',\n  background: props.theme.background,\n  color: props.theme.textColorPrimary,\n  zIndex: 100001,\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst KEY_BLACKLIST = new Set(['vertices', 'base', 'style', 'state', 'index', 'id', 'object_id']);\n\nclass HoverTooltip extends PureComponent {\n  _renderEntries(object) {\n    if (!object) {\n      return null;\n    }\n    return Object.keys(object)\n      .filter(key => !KEY_BLACKLIST.has(key) && object[key] !== undefined)\n      .map(key => (\n        <div key={key}>\n          <div>\n            <b>{key}</b>\n          </div>\n          {String(object[key])}\n        </div>\n      ));\n  }\n\n  _renderContent = info => {\n    const objectId = info.object.base && info.object.base.object_id;\n\n    return [\n      <div key=\"-stream-\">\n        <div>\n          <b>stream</b>\n        </div>\n        {info.layer.props.streamName}\n      </div>,\n      objectId ? (\n        <div key=\"-id-\">\n          <div>\n            <b>id</b>\n          </div>\n          {objectId}\n        </div>\n      ) : null,\n      <hr key=\"-separator-\" />\n    ].concat(this._renderEntries(info.object.base), this._renderEntries(info.object));\n  };\n\n  render() {\n    const {theme, info, style, renderContent = this._renderContent} = this.props;\n\n    return (\n      <TooltipContainer theme={theme} style={{left: info.x, top: info.y}} userStyle={style}>\n        {renderContent(info)}\n      </TooltipContainer>\n    );\n  }\n}\n\nexport default withTheme(HoverTooltip);\n"],"file":"hover-tooltip.js"}