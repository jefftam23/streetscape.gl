{"version":3,"sources":["../../../../src/components/log-viewer/hover-tooltip.js"],"names":["React","PureComponent","withTheme","evaluateStyle","styled","TooltipContainer","div","props","theme","__reset__","position","pointerEvents","margin","spacingNormal","padding","maxWidth","overflow","background","color","textColorPrimary","zIndex","userStyle","KEY_BLACKLIST","Set","HoverTooltip","info","objectId","object","base","object_id","layer","streamName","concat","_renderEntries","Object","keys","filter","key","has","undefined","map","String","render","style","renderContent","_renderContent","left","x","top","y"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAeC,aAAf,QAAmC,OAAnC;AACA,SAAQC,SAAR,EAAmBC,aAAnB,QAAuC,4BAAvC;AAEA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,MAAMC,gBAAgB,GAAGD,MAAM,CAACE,GAAP,CAAWC,KAAK,sBACpCA,KAAK,CAACC,KAAN,CAAYC,SADwB;AAEvCC,EAAAA,QAAQ,EAAE,UAF6B;AAGvCC,EAAAA,aAAa,EAAE,MAHwB;AAIvCC,EAAAA,MAAM,EAAEL,KAAK,CAACC,KAAN,CAAYK,aAJmB;AAKvCC,EAAAA,OAAO,EAAEP,KAAK,CAACC,KAAN,CAAYK,aALkB;AAMvCE,EAAAA,QAAQ,EAAE,GAN6B;AAOvCC,EAAAA,QAAQ,EAAE,QAP6B;AAQvCC,EAAAA,UAAU,EAAEV,KAAK,CAACC,KAAN,CAAYS,UARe;AASvCC,EAAAA,KAAK,EAAEX,KAAK,CAACC,KAAN,CAAYW,gBAToB;AAUvCC,EAAAA,MAAM,EAAE;AAV+B,GAWpCjB,aAAa,CAACI,KAAK,CAACc,SAAP,EAAkBd,KAAlB,CAXuB,CAAhB,CAAzB;AAcA,MAAMe,aAAa,GAAG,IAAIC,GAAJ,CAAQ,CAAC,UAAD,EAAa,MAAb,EAAqB,OAArB,EAA8B,OAA9B,EAAuC,OAAvC,EAAgD,IAAhD,EAAsD,WAAtD,CAAR,CAAtB;;AAEA,MAAMC,YAAN,SAA2BvB,aAA3B,CAAyC;AAAA;AAAA;;AAAA,4CAiBtBwB,IAAI,IAAI;AACvB,YAAMC,QAAQ,GAAGD,IAAI,CAACE,MAAL,CAAYC,IAAZ,IAAoBH,IAAI,CAACE,MAAL,CAAYC,IAAZ,CAAiBC,SAAtD;AAEA,aAAO,CACL;AAAK,QAAA,GAAG,EAAC;AAAT,SACE,iCACE,wCADF,CADF,EAIGJ,IAAI,CAACK,KAAL,CAAWvB,KAAX,CAAiBwB,UAJpB,CADK,EAOLL,QAAQ,GACN;AAAK,QAAA,GAAG,EAAC;AAAT,SACE,iCACE,oCADF,CADF,EAIGA,QAJH,CADM,GAOJ,IAdC,EAeL;AAAI,QAAA,GAAG,EAAC;AAAR,QAfK,EAgBLM,MAhBK,CAgBE,KAAKC,cAAL,CAAoBR,IAAI,CAACE,MAAL,CAAYC,IAAhC,CAhBF,EAgByC,KAAKK,cAAL,CAAoBR,IAAI,CAACE,MAAzB,CAhBzC,CAAP;AAiBD,KArCsC;AAAA;;AACvCM,EAAAA,cAAc,CAACN,MAAD,EAAS;AACrB,QAAI,CAACA,MAAL,EAAa;AACX,aAAO,IAAP;AACD;;AACD,WAAOO,MAAM,CAACC,IAAP,CAAYR,MAAZ,EACJS,MADI,CACGC,GAAG,IAAI,CAACf,aAAa,CAACgB,GAAd,CAAkBD,GAAlB,CAAD,IAA2BV,MAAM,CAACU,GAAD,CAAN,KAAgBE,SADrD,EAEJC,GAFI,CAEAH,GAAG,IACN;AAAK,MAAA,GAAG,EAAEA;AAAV,OACE,iCACE,+BAAIA,GAAJ,CADF,CADF,EAIGI,MAAM,CAACd,MAAM,CAACU,GAAD,CAAP,CAJT,CAHG,CAAP;AAUD;;AAwBDK,EAAAA,MAAM,GAAG;AAAA,wBAC2D,KAAKnC,KADhE;AAAA,UACAC,KADA,eACAA,KADA;AAAA,UACOiB,IADP,eACOA,IADP;AAAA,UACakB,KADb,eACaA,KADb;AAAA,8CACoBC,aADpB;AAAA,UACoBA,aADpB,sCACoC,KAAKC,cADzC;AAGP,WACE,oBAAC,gBAAD;AAAkB,MAAA,KAAK,EAAErC,KAAzB;AAAgC,MAAA,KAAK,EAAE;AAACsC,QAAAA,IAAI,EAAErB,IAAI,CAACsB,CAAZ;AAAeC,QAAAA,GAAG,EAAEvB,IAAI,CAACwB;AAAzB,OAAvC;AAAoE,MAAA,SAAS,EAAEN;AAA/E,OACGC,aAAa,CAACnB,IAAD,CADhB,CADF;AAKD;;AA/CsC;;AAkDzC,eAAevB,SAAS,CAACsB,YAAD,CAAxB","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {PureComponent} from 'react';\nimport {withTheme, evaluateStyle} from '@streetscape.gl/monochrome';\n\nimport styled from '@emotion/styled';\n\nconst TooltipContainer = styled.div(props => ({\n  ...props.theme.__reset__,\n  position: 'absolute',\n  pointerEvents: 'none',\n  margin: props.theme.spacingNormal,\n  padding: props.theme.spacingNormal,\n  maxWidth: 320,\n  overflow: 'hidden',\n  background: props.theme.background,\n  color: props.theme.textColorPrimary,\n  zIndex: 100001,\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst KEY_BLACKLIST = new Set(['vertices', 'base', 'style', 'state', 'index', 'id', 'object_id']);\n\nclass HoverTooltip extends PureComponent {\n  _renderEntries(object) {\n    if (!object) {\n      return null;\n    }\n    return Object.keys(object)\n      .filter(key => !KEY_BLACKLIST.has(key) && object[key] !== undefined)\n      .map(key => (\n        <div key={key}>\n          <div>\n            <b>{key}</b>\n          </div>\n          {String(object[key])}\n        </div>\n      ));\n  }\n\n  _renderContent = info => {\n    const objectId = info.object.base && info.object.base.object_id;\n\n    return [\n      <div key=\"-stream-\">\n        <div>\n          <b>stream</b>\n        </div>\n        {info.layer.props.streamName}\n      </div>,\n      objectId ? (\n        <div key=\"-id-\">\n          <div>\n            <b>id</b>\n          </div>\n          {objectId}\n        </div>\n      ) : null,\n      <hr key=\"-separator-\" />\n    ].concat(this._renderEntries(info.object.base), this._renderEntries(info.object));\n  };\n\n  render() {\n    const {theme, info, style, renderContent = this._renderContent} = this.props;\n\n    return (\n      <TooltipContainer theme={theme} style={{left: info.x, top: info.y}} userStyle={style}>\n        {renderContent(info)}\n      </TooltipContainer>\n    );\n  }\n}\n\nexport default withTheme(HoverTooltip);\n"],"file":"hover-tooltip.js"}